model Clients {
  id          Int     @id @default(autoincrement())
  value       String
  telegram_id Int
  keys        Keys[]
  client_id   String
}

model Games {
  id          Int     @id @default(autoincrement())
  name        String
  app_token   String
  promo_value String
  keys        Keys[]
}

model Keys {
  id        Int      @id @default(autoincrement())
  client_id Int
  game_id   Int
  value     String
  timestamp DateTime
  is_used   Boolean

  clients Clients @relation(fields: [client_id], references: [id], onDelete: Cascade, onUpdate: Cascade)
  games   Games   @relation(fields: [game_id], references: [id], onDelete: Cascade, onUpdate: Cascade)
}

model KeysRequest {
  id             Int      @id @default(autoincrement())
  keys_request   String
  done           Boolean
}

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}
